{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport api from \"../../services/api\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { setUser } from \"../../redux/Auth/actions\";\nimport Toast from \"react-native-toast-message\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Logout() {\n  var dispatch = useDispatch();\n  var navigation = useNavigation();\n  function logout() {\n    return _logout.apply(this, arguments);\n  }\n  function _logout() {\n    _logout = _asyncToGenerator(function* () {\n      try {\n        yield api.post(`/user/logout`);\n        dispatch(setUser(null));\n        Toast.show({\n          type: \"info\",\n          text1: `Vous avez bien été déconnecté`,\n          duration: 10000\n        });\n        navigation.navigate(\"Auth\");\n      } catch (e) {\n        console.log(e);\n        Toast.show({\n          type: \"error\",\n          text1: `Une erreur est survenue`,\n          duration: 10000\n        });\n      }\n    });\n    return _logout.apply(this, arguments);\n  }\n  return _jsx(Button, {\n    title: \"Se d\\xE9connecter\",\n    onPress: function onPress() {\n      return logout();\n    }\n  });\n}","map":{"version":3,"names":["api","React","useDispatch","useNavigation","setUser","Toast","Button","jsx","_jsx","Logout","dispatch","navigation","logout","_logout","apply","arguments","_asyncToGenerator","post","show","type","text1","duration","navigate","e","console","log","title","onPress"],"sources":["/Users/charlelie/projects/new/app/src/scenes/auth/logout.jsx"],"sourcesContent":["import api from \"../../services/api\";\nimport React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { setUser } from \"../../redux/Auth/actions\";\nimport Toast from \"react-native-toast-message\";\nimport { Button } from \"react-native\";\n\nexport default function Logout() {\n  const dispatch = useDispatch();\n  const navigation = useNavigation();\n\n  async function logout() {\n    try {\n      await api.post(`/user/logout`);\n      dispatch(setUser(null));\n      Toast.show({\n        type: \"info\",\n        text1: `Vous avez bien été déconnecté`,\n        duration: 10000,\n      });\n      navigation.navigate(\"Auth\");\n    } catch (e) {\n      console.log(e);\n      Toast.show({\n        type: \"error\",\n        text1: `Une erreur est survenue`,\n        duration: 10000,\n      });\n    }\n  }\n  return <Button title=\"Se déconnecter\" onPress={() => logout()} />;\n}\n"],"mappings":";AAAA,OAAOA,GAAG;AACV,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,aAAa;AACzC,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,OAAO;AAChB,OAAOC,KAAK,MAAM,4BAA4B;AAAC,OAAAC,MAAA;AAAA,SAAAC,GAAA,IAAAC,IAAA;AAG/C,eAAe,SAASC,MAAMA,CAAA,EAAG;EAC/B,IAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,IAAMS,UAAU,GAAGR,aAAa,CAAC,CAAC;EAAC,SAEpBS,MAAMA,CAAA;IAAA,OAAAC,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EAAA,SAAAF,QAAA;IAAAA,OAAA,GAAAG,iBAAA,CAArB,aAAwB;MACtB,IAAI;QACF,MAAMhB,GAAG,CAACiB,IAAI,CAAE,cAAa,CAAC;QAC9BP,QAAQ,CAACN,OAAO,CAAC,IAAI,CAAC,CAAC;QACvBC,KAAK,CAACa,IAAI,CAAC;UACTC,IAAI,EAAE,MAAM;UACZC,KAAK,EAAG,+BAA8B;UACtCC,QAAQ,EAAE;QACZ,CAAC,CAAC;QACFV,UAAU,CAACW,QAAQ,CAAC,MAAM,CAAC;MAC7B,CAAC,CAAC,OAAOC,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC;QACdlB,KAAK,CAACa,IAAI,CAAC;UACTC,IAAI,EAAE,OAAO;UACbC,KAAK,EAAG,yBAAwB;UAChCC,QAAQ,EAAE;QACZ,CAAC,CAAC;MACJ;IACF,CAAC;IAAA,OAAAR,OAAA,CAAAC,KAAA,OAAAC,SAAA;EAAA;EACD,OAAOP,IAAA,CAACF,MAAM;IAACoB,KAAK,EAAC,mBAAgB;IAACC,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMf,MAAM,CAAC,CAAC;IAAA;EAAC,CAAE,CAAC;AACnE"},"metadata":{},"sourceType":"module","externalDependencies":[]}